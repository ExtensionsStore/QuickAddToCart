<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 *
 * QuickAddToCart layout
 *
 * @category    Aydus
 * @package     Aydus_QuickAddToCart
 * @author     	Aydus Consulting <davidt@aydus.com>
 */
-->
<layout>

    <dealer_links>
        <reference name="customer_account_navigation">
            <action method="addLink" translate="label" module="dealer"><name>quickaddtocart</name><path>quickaddtocart</path><label>Quick Add To Cart</label><url_params></url_params><before></before><after>account</after></action>
        </reference>
    </dealer_links>
    
    <quickaddtocart_index_index translate="label">
        <label>Quick Add To Cart</label>

        <reference name="root">
            <action method="setTemplate"><template>page/1column.phtml</template></action>
        </reference>
        
        <reference name="head">
            <action method="addItem"><type>skin_css</type><name>css/aydus/quickaddtocart.css</name></action>
            <action method="addItem"><type>skin_js</type><name>js/aydus/quickaddtocart.js</name></action>
        </reference>
        
<!--         <reference name="breadcrumbs">              -->
<!--         	<action method="addCrumb"><crumbName>Quick Add To Cart</crumbName><crumbInfo><label>Quick Add To Cart</label><title>Quick Add To Cart</title></crumbInfo></action> -->
<!--        	</reference>         -->
        
        <reference name="content">
			<block type="aydus_quickaddtocart/index" name="cart" template="aydus/quickaddtocart/index.phtml">
	            <block type="checkout/cart" name="checkout.cart" template="aydus/quickaddtocart/cart.phtml">
	                <action method="setCartTemplate"><value>aydus/quickaddtocart/cart.phtml</value></action>
	                <action method="setEmptyTemplate"><value>aydus/quickaddtocart/cart.phtml</value></action>
	                <action method="chooseTemplate"/>
	                <action method="addItemRender"><type>simple</type><block>checkout/cart_item_renderer</block><template>checkout/cart/item/default.phtml</template></action>
	                <action method="addItemRender"><type>grouped</type><block>checkout/cart_item_renderer_grouped</block><template>checkout/cart/item/default.phtml</template></action>
	                <action method="addItemRender"><type>configurable</type><block>checkout/cart_item_renderer_configurable</block><template>checkout/cart/item/default.phtml</template></action>
	            </block>			
			</block>
        </reference>
        
    </quickaddtocart_index_index>   
    
    <quickaddtocart_index_customer translate="label">
        <label>Quick Add To Cart</label>
        <update handle="customer_account" />
        <reference name="root">
            <action method="setTemplate"><template>page/2columns-left.phtml</template></action>
        </reference>
        
        <reference name="head">
            <action method="addItem"><type>skin_css</type><name>css/aydus/quickaddtocart.css</name></action>
            <action method="addItem"><type>skin_js</type><name>js/aydus/quickaddtocart.js</name></action>
        </reference>
        
<!--         <reference name="breadcrumbs">              -->
<!--         	<action method="addCrumb"><crumbName>Quick Add To Cart</crumbName><crumbInfo><label>Quick Add To Cart</label><title>Quick Add To Cart</title></crumbInfo></action> -->
<!--        	</reference>         -->
        
        <reference name="content">
			<block type="aydus_quickaddtocart/index" name="cart" template="aydus/quickaddtocart/index.phtml">
	            <block type="checkout/cart" name="checkout.cart" template="aydus/quickaddtocart/cart.phtml">
	                <action method="setCartTemplate"><value>aydus/quickaddtocart/cart.phtml</value></action>
	                <action method="setEmptyTemplate"><value>aydus/quickaddtocart/cart.phtml</value></action>
	                <action method="chooseTemplate"/>
	                <action method="addItemRender"><type>simple</type><block>checkout/cart_item_renderer</block><template>checkout/cart/item/default.phtml</template></action>
	                <action method="addItemRender"><type>grouped</type><block>checkout/cart_item_renderer_grouped</block><template>checkout/cart/item/default.phtml</template></action>
	                <action method="addItemRender"><type>configurable</type><block>checkout/cart_item_renderer_configurable</block><template>checkout/cart/item/default.phtml</template></action>
	            </block>			
			</block>			
        </reference>
        
    </quickaddtocart_index_customer>   
    
    <quickaddtocart_index_search>
    
        <reference name="root">
            <action method="setTemplate"><template>aydus/quickaddtocart/search.phtml</template></action>
        </reference>
        <reference name="left_first">
            <block type="catalogsearch/layer" name="catalogsearch.leftnav" after="currency" template="catalog/layer/view.phtml">
                <block type="core/text_list" name="catalog.leftnav.state.renderers" as="state_renderers" />
            </block>
        </reference>

        <reference name="content">
            <block type="catalogsearch/result" name="search.result" template="aydus/quickaddtocart/result.phtml">
                <block type="catalog/product_list" name="search_result_list" template="catalog/product/list.phtml">
                    <block type="core/text_list" name="product_list.name.after" as="name.after" />
                    <block type="core/text_list" name="product_list.after" as="after" />
                    <block type="catalog/product_list_toolbar" name="product_list_toolbar" template="catalog/product/list/toolbar.phtml">
                        <block type="page/html_pager" name="product_list_toolbar_pager"/>
                    </block>
                    <action method="addColumnCountLayoutDepend"><layout>empty</layout><count>6</count></action>
                    <action method="addColumnCountLayoutDepend"><layout>one_column</layout><count>5</count></action>
                    <action method="addColumnCountLayoutDepend"><layout>two_columns_left</layout><count>4</count></action>
                    <action method="addColumnCountLayoutDepend"><layout>two_columns_right</layout><count>4</count></action>
                    <action method="addColumnCountLayoutDepend"><layout>three_columns</layout><count>3</count></action>
                    <action method="setToolbarBlockName"><name>product_list_toolbar</name></action>
                </block>
                <action method="setListOrders"/>
                <action method="setListModes"/>
                <action method="setListCollection"/>
            </block>
        </reference>
        
    </quickaddtocart_index_search>
    
</layout>